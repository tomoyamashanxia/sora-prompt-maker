:root {
  --primary: #6C63FF; --primary-light: #A29BFE; --accent: #FF6B9D;
  --bg1: #FFF5F7; --bg2: #F0EDFF; --bg3: #E8F4FD;
  --card-bg: rgba(255,255,255,0.85); --card-border: rgba(255,255,255,0.6);
  --text1: #2D3436; --text2: #636E72; --text3: #B2BEC3;
  --shadow: 0 8px 32px rgba(108,99,255,0.12);
  --r-lg: 20px; --r-md: 14px; --r-sm: 10px;
  --safe-top: env(safe-area-inset-top, 20px);
  --safe-bottom: env(safe-area-inset-bottom, 20px);
}
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
body{font-family:'Noto Sans JP','Outfit',-apple-system,sans-serif;background:linear-gradient(155deg,var(--bg1),var(--bg2) 45%,var(--bg3));min-height:100vh;min-height:100dvh;color:var(--text1);overflow-x:hidden}
body::before,body::after{content:'';position:fixed;border-radius:50%;filter:blur(80px);opacity:.4;z-index:0;pointer-events:none}
body::before{width:300px;height:300px;background:radial-gradient(circle,#A29BFE,transparent);top:-50px;right:-80px;animation:fo 8s ease-in-out infinite alternate}
body::after{width:250px;height:250px;background:radial-gradient(circle,#FF9EC6,transparent);bottom:10%;left:-60px;animation:fo 10s ease-in-out infinite alternate-reverse}
@keyframes fo{0%{transform:translate(0,0) scale(1)}100%{transform:translate(30px,-40px) scale(1.15)}}
.app-container{max-width:420px;margin:0 auto;padding:0 16px;padding-top:var(--safe-top);padding-bottom:calc(var(--safe-bottom) + 24px);position:relative;z-index:1}
.app-header{text-align:center;padding:24px 0 16px;position:relative}
.header-glow{position:absolute;top:0;left:50%;transform:translateX(-50%);width:200px;height:100px;background:radial-gradient(circle,rgba(108,99,255,.2),transparent);filter:blur(30px);pointer-events:none}
.app-title{font-family:'Outfit',sans-serif;font-size:28px;font-weight:800;background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.app-subtitle{font-size:13px;color:var(--text2);margin-top:4px}
.btn-generate-all{display:flex;align-items:center;justify-content:center;gap:8px;width:100%;padding:16px 24px;margin-bottom:16px;border:none;border-radius:var(--r-lg);background:linear-gradient(135deg,var(--primary),#8B5CF6,var(--accent));background-size:200% 200%;color:#fff;font-size:17px;font-weight:700;font-family:inherit;cursor:pointer;box-shadow:0 6px 24px rgba(108,99,255,.25);transition:all .3s ease;animation:gs 4s ease infinite;position:relative;overflow:hidden}
.btn-generate-all::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.15) 50%,transparent 70%);transform:rotate(45deg);animation:sh 3s ease-in-out infinite}
@keyframes sh{0%{transform:translateX(-100%) rotate(45deg)}100%{transform:translateX(100%) rotate(45deg)}}
@keyframes gs{0%,100%{background-position:0% 50%}50%{background-position:100% 50%}}
.btn-generate-all:active{transform:scale(.96)}
.btn-sparkle{animation:sp 1.5s ease-in-out infinite}
@keyframes sp{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.6;transform:scale(1.3) rotate(15deg)}}
.card{background:var(--card-bg);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:1px solid var(--card-border);border-radius:var(--r-lg);margin-bottom:12px;box-shadow:var(--shadow);overflow:hidden;transition:transform .3s ease}
.card-header{display:flex;align-items:center;padding:14px 18px 10px;gap:8px}
.card-number{display:inline-flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:10px;font-size:13px;font-weight:700;color:#fff;flex-shrink:0}
.card-cameo .card-number{background:linear-gradient(135deg,#6C63FF,#A29BFE)}
.card-outfit .card-number{background:linear-gradient(135deg,#FF6B9D,#FF9EC6)}
.card-word .card-number{background:linear-gradient(135deg,#00B894,#55EFC4)}
.card-preview .card-number{background:none;font-size:18px;width:auto;height:auto}
.card-label{font-size:15px;font-weight:700;flex-grow:1}
.btn-dice{width:40px;height:40px;border:none;border-radius:12px;background:linear-gradient(135deg,#F8F9FA,#E9ECEF);font-size:20px;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center}
.btn-dice:active{transform:scale(.85) rotate(180deg)}
.btn-dice.rolling{animation:dr .5s ease}
@keyframes dr{0%{transform:rotate(0) scale(1)}25%{transform:rotate(90deg) scale(1.2)}50%{transform:rotate(180deg) scale(.9)}75%{transform:rotate(270deg) scale(1.1)}100%{transform:rotate(360deg) scale(1)}}
.card-body{padding:4px 18px 16px}
.selected-value{display:flex;align-items:center;gap:8px;padding:10px 14px;background:linear-gradient(135deg,#F8F9FA,#F1F3F5);border-radius:var(--r-sm);margin-bottom:8px;font-size:14px}
.selected-value:last-child{margin-bottom:0}
.value-label{font-weight:600;color:var(--text2);font-size:12px;min-width:55px}
.value-text{font-weight:600;color:var(--text1);flex-grow:1;word-break:break-all}
.link-badge{font-size:10px;padding:2px 8px;background:linear-gradient(135deg,#6C63FF,#A29BFE);color:#fff;border-radius:12px;white-space:nowrap;font-weight:600}
.selected-value.linked{background:linear-gradient(135deg,#EDE7FF,#F0EDFF);border:1px solid rgba(108,99,255,.15)}
.outfit-buttons{display:flex;gap:8px}
.outfit-btn{flex:1;padding:12px 10px;border:2px solid #E9ECEF;border-radius:var(--r-md);background:#fff;cursor:pointer;transition:all .25s ease;display:flex;flex-direction:column;align-items:center;gap:6px;font-family:inherit}
.outfit-btn.selected{border-color:var(--accent);background:linear-gradient(135deg,#FFF0F5,#FFE0EA);box-shadow:0 4px 16px rgba(255,107,157,.2);transform:scale(1.02)}
.outfit-emoji{font-size:28px}
.outfit-name{font-size:11px;font-weight:600;color:var(--text2);text-align:center;line-height:1.3}
.outfit-btn.selected .outfit-name{color:var(--accent)}
.word-display{text-align:center;padding:16px;background:linear-gradient(135deg,#E8FAF0,#F0FFDD);border-radius:var(--r-md);border:1px solid rgba(0,184,148,.15)}
.word-en{font-family:'Outfit',sans-serif;font-size:32px;font-weight:800;color:#00B894;letter-spacing:-.5px;line-height:1.2}
.word-kana{font-size:16px;color:var(--text2);margin-top:4px;font-weight:600}
.word-ja{font-size:14px;color:var(--text1);margin-top:4px;font-weight:700;background:linear-gradient(135deg,rgba(0,184,148,.1),rgba(85,239,196,.1));display:inline-block;padding:4px 14px;border-radius:20px}
.prompt-preview{padding:16px;background:linear-gradient(135deg,#FAFAFA,#F5F5F5);border-radius:var(--r-md);font-size:13px;line-height:1.8;white-space:pre-wrap;word-wrap:break-word;max-height:300px;overflow-y:auto;border:1px solid #EEE}
.prompt-preview.has-content{background:linear-gradient(135deg,#FFF9E8,#FFFDE8);border-color:rgba(253,203,110,.3)}
.btn-copy{display:flex;align-items:center;justify-content:center;gap:8px;width:100%;padding:16px 24px;margin-top:4px;border:2px solid var(--primary);border-radius:var(--r-lg);background:#fff;color:var(--primary);font-size:16px;font-weight:700;font-family:inherit;cursor:pointer;transition:all .3s ease}
.btn-copy:active{transform:scale(.96);background:var(--primary);color:#fff}
.btn-copy.copied{background:#00B894;border-color:#00B894;color:#fff}
.toast{position:fixed;bottom:calc(var(--safe-bottom) + 100px);left:50%;transform:translateX(-50%) translateY(100px);background:rgba(45,52,54,.92);backdrop-filter:blur(10px);color:#fff;padding:12px 24px;border-radius:24px;font-size:14px;font-weight:600;z-index:1000;opacity:0;transition:all .4s cubic-bezier(.4,0,.2,1);pointer-events:none}
.toast.show{opacity:1;transform:translateX(-50%) translateY(0)}
@keyframes vp{0%{transform:scale(.8);opacity:0}60%{transform:scale(1.05)}100%{transform:scale(1);opacity:1}}
.value-updated{animation:vp .35s cubic-bezier(.34,1.56,.64,1)}
@media(max-width:380px){.app-title{font-size:24px}.word-en{font-size:26px}.outfit-name{font-size:10px}}
